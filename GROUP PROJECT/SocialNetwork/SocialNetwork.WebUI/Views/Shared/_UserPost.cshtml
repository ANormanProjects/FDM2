@model SocialNetwork.WebUI.Models.UserPostViewModel

<div class="container">
    <div class="post-container">
        <div class="container post-sidebar col-sm-2">
            @if (Model.post.user != null)
            {
                <img class="post-profile-image" src="~/Content/@Model.post.user.username-profileimg.jpg" />
            }
            else
            {
                <img class="post-profile-image" src="~/Content/profile-picture-blank.gif" />
            }
            <h4 class="text-center">
                @if( Model.post.user != null) 
                { 
                    @Model.post.user.fullName 
                }
            </h4>
            <p class="text-center">Add Friend</p>
        </div>

        <div class="container post-content col-sm-10">
            <h2>@Model.post.title - @Model.post.language</h2>
            <h4>@Model.post.time.ToShortDateString()</h4>
            <p>@Model.post.content</p>
            <div class="container post-code">
                <pre>@Model.post.code</pre>
            </div>
            <p>
                @using (Html.BeginForm("LikePost", "CodeWall", FormMethod.Post))
                {
                    @Html.HiddenFor(model => model.post.postId);
                    <input type="submit" value="Like - @Model.post.likes" class="btn btn-primary" />
                }
            </p>

            <div class="container post-comments col-sm-8">
                @foreach (SocialNetwork.DataAccess.Comment comment in Model.post.comments)
                {
                    @Html.Partial("_Comment", new SocialNetwork.WebUI.Models.CommentViewModel() { comment = comment, user = comment.user, post = @Model.post })
                }
            </div>

            <div class="container post-comments col-sm-8">
                @Html.Partial("_MakeCommentForm", new SocialNetwork.WebUI.Models.CommentViewModel() { post = @Model.post })
            </div>
        </div>   

            
    </div>  
    
</div>
